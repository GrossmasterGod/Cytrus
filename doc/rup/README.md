# ІП-84 1 бригада <br> Cytrus 
## Лист змін
| Дата    | Версія | Опис | Автор |
|---------|--------|------|-------|
|3.2.2020 |1.0.0   |створення проекту|[Засько Євгеній](https://github.com/NeProgramist)|
|4.2.2020 |1.0.1   |інформація про Neo4j|[Романова Вікторія](https://github.com/V1ckeyR)|
|4.2.2020 |1.0.2   |інформація про NLP|[Засько Євгеній](https://github.com/NeProgramist)|
|5.2.2020 |1.0.3   |пошук в графових структурах|[Ковалишин Олег](https://github.com/ALEGATOR1209)|
|6.2.2020 |1.0.4   |бібліотеки для синтаксичного аналізу тексту|[Кучін Владислав](https://github.com/PaIIadium)|
|6.2.2020 |1.0.5   |AI в NLP|[Сімонов Павло](https://github.com/DjBee0312)|
|21.2.2020|1.1.0   |RUP 5,8|[Романова Вікторія](https://github.com/V1ckeyR)|
|22.2.2020|1.1.1   |RUP 6,7|[Сімонов Павло](https://github.com/DjBee0312)|
|22.2.2020|1.1.2   |RUP 3,9|[Ковалишин Олег](https://github.com/ALEGATOR1209)|
|23.2.2020|1.1.3   |RUP 1,2|[Кучін Владислав](https://github.com/PaIIadium)|
|24.2.2020|1.1.4   |RUP 4|[Засько Євгеній](https://github.com/NeProgramist)|
|1.3.2020 |1.1.5   |edit RUP 3.2(API)|[Засько Євгеній](https://github.com/NeProgramist)|
|1.3.2020 |1.1.6   |Додаткові посилання|[Ковалишин Олег](https://github.com/ALEGATOR1209)|
|1.3.2020 |1.1.7   |RUP 5.3,6.1,6.2|[Сімонов Павло](https://github.com/DjBee0312)|
|1.3.2020 |1.1.8   |edit RUP 3.2(Сайт)|[Засько Євгеній](https://github.com/NeProgramist)|
|4.3.2020 |1.1.9   |Реструктуризація документації|[Ковалишин Олег](https://github.com/ALEGATOR1209)|
|8.3.2020 |1.2.0   |Переписано функціональність|[Ковалишин Олег](https://github.com/ALEGATOR1209)|
|8.3.2020 |2.0.0   |UML-діаграми користувачів|[Романова Вікторія](https://github.com/V1ckeyR)|
|8.3.2020 |2.0.1   |Додані всі UML UC|[Засько Євгеній](https://github.com/NeProgramist)|
|8.3.2020 |2.0.2   |Додана таблиця помилок|[Ковалишин Олег](https://github.com/ALEGATOR1209)|
|9.3.2020 |2.0.3   |Додані посилання на всі UML UC|[Засько Євгеній](https://github.com/NeProgramist)|
|20.4.2020|2.1.4   |Виправлені UC|[Засько Євгеній](https://github.com/NeProgramist)|
|24.4.2020|3.0.1   |Додана BEM|[Ковалишин Олег](https://github.com/ALEGATOR1209)|
|24.4.2020|3.0.2   |Додана REM|[Засько Євгеній](https://github.com/NeProgramist)|
|2.5.2020|4.0.0|Додано скрипт копіювання даних із Neo4j до PostgreSQL, додано файли налаштування бази і заповнення початковими даними|[Ковалишин Олег](https://github.com/ALEGATOR1209), [Засько Євгеній](https://github.com/NeProgramist)| 

## Зміст
1. [Вступ](#1-вступ)
    <br>1.1. [Ціль](#11-ціль)
    <br>1.2. [Контекст](#12-контекст)
    <br>1.3. [Визначення, акроніми та скорочення](#13-визначення-акроніми-та-скорочення)
    <br>1.4. [Посилання](#14-посилання)
2. [Короткий зміст](#2-короткий-зміст)
3. [Характеристика ділових процесів](#3-характеристика-ділових-процесів)
    <br>3.1. [Призначення сервісу](#31-призначення-сервісу)
    <br>3.2. [Сценарії обробки запиту від користувача](#32-сценарії-обробки-запиту-від-користувача)
4. [Короткий огляд продукту](#4-короткий-огляд-продукту)
5. [Функціональність](#5-функціональність)
    <br>5.1. [Взаємодія з графом сутностей та зв'язків](#51-взаємодія-з-графом-сутностей-та-звязків)
    <br>5.2. [Функціональність звичайного користувача](#52-функціональність-звичайного-користувача)
    <br>5.3. [Функціонал привілейованого користувача](#53-функціонал-привілейованого-користувача)
    <br>5.4. [Видача, зберігання та обробка ключів привілейованого доступу](#54-видача-зберігання-та-обробка-ключів-привілейованого-доступу)
6. [Практичність](#6-практичність)
    <br>6.1. [Локалізація](61-локалізація)
    <br>6.2. [Інтерфейс](#61-локалізація)
    <br>6.3. [Зв'язок текстів](#63-звязок-текстів)
7. [Надійність](#7-надійність)
    <br>7.1. [Безпека данних](#71-безпека-данних)
8. [Продуктивність](#8-продуктивність)
9. [Експлуатаційна придатність](#9-експлуатаційна-придатність)
    <br>9.1. [Легка розширюваність](#91-легка-розширюваність)
    <br>9.2. [Розділена бізнеслогіка і відображення](#92-розділена-бізнеслогіка-і-відображення)

## 1. Вступ

У цьому документі описуються запити зацікавленої особи, в якості якої виступає викладач Національного технічного університету України «Київський політехнічний інститут імені Ігоря Сікорського», по відношенню до розроблюваного Natural Language Processing "Cytrus".

### 1.1. Ціль
    
Ціллю документа є визначення основних вимог до функціональності, продуктивності і експлуатаційної придатності, а також визначення бізнес-правил і технологічних обмежень, що висуваються до предмету розробки.

### 1.2. Контекст
    
Перелік вимог, перерахованих у цьому документі, є основою технічного завдання на розробку Natural Language Processing "Cytrus".
    
### 1.3. Визначення, акроніми та скорочення
    
У цьому документі використовуються наступні визначення, акроніми та скорочення:

**NLP** — [Natural Language Processing](../materials/nlp-theory/NLP.md) - загальний напрям інформатики, штучного інтелекту та математичної лінгвістики, що вивчає проблеми комп'ютерного аналізу та синтезу природної мови.

**Бібліотека** — збірка об'єктів чи підпрограм для вирішення близьких за тематикою задач.

**Слово** — це послідовність морфем, об'єднаних за граматичними правилами певної мови і співвідносних з певним елементом позамовної реальності.

**[Граф](../materials/nlp-theory/graphs/Dictionary.md)** — це сукупність об'єктів із зв'язками між ними.

**Синтаксичний аналіз** — процес аналізу вхідної послідовності символів, з метою розбору граматичної структури згідно із заданою формальною граматикою.

**Контекстний аналіз** — аналіз частини через ціле, коли одиницями аналізу выступают мовні одиниці, більш широкі, ніж сама одиниця.

**Токенізація** — найперший крок в обробці тексту що полягає в розбитті (розділенні) довгих рядків тексту на більш короткі: абзаци діляться на речення, речення на слова.

**Нормалізація** — серія операцій, в результаті яких текст приводиться до однорідного вигляду: всі слова приводяться до одного регістру, видаляються знаки пунктуації, розшифровуються скорочення, числа приводяться до їх текстового написання і т.д.

**Стемізація** — усунення придатків до кореню, тобто відділення суфікса, префікса, закінчення.

**Лематизація** — операція, що приводить слово до смислової канонічної форми слова (інфінітив для дієслова, називний відмінок однини — для іменників та прикметників).

**Корпус** — набір текстів.

**CytrusAPI**  — прикладний програмний інтерфейс для взаємодії з Cytrus.

### 1.4. Посилання

* [NLP](../materials/nlp-theory/NLP.md)
* [NLP implementations in other languages](../materials/nlp-practice/NLP%20implementations%20in%20other%20languages.md)
* [Штучні нейронні мережі для обробки природних мов](../materials/nlp-theory/AI%20in%20NLP.md)
* [Бібліотеки для синтаксичного аналізу тексту](../materials/nlp-practice/libraries-overview.md)
* [Теорія графів](../materials/nlp-theory/graphs/Dictionary.md)

## 2. Короткий зміст

NLP "Cytrus" представляє собою програмне забезпечення, що дозволяє синтаксично аналізувати тексти природної мови, їх зміст, проводити операції токенізації, нормалізації, стемізації, лематизації над ним та його частинами. "Cytrus" може встановлювати зв'язки між значенням різних слів, таким чином, будуючи асоціативний граф (дерево) зі словами. Результат обробки тексту повертається у заданому користувачем вигляді у форматі .json, що надає можливість гнучко використовувати можливості сервісу і створювати на базі його API різноманітні комп'ютерні, мобільні та web-застосунки.

## 3. Характеристика ділових процесів
### 3.1 Призначення сервісу

Сервіс призначений для надання користувачам доступу до інструментів україномовного NLP, зокрема пошуку зв'язків між сутностями в тексті. Результатом взаємодії із сервісом є відповідь у вигляді JSON-об'єкту з інформацією про знайдені логічні зв'язки у наданому тексті.

### 3.2. Сценарії обробки запиту від користувача
![](http://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/NeProgramist/Cytrus/master/doc/uml/UC_1.puml)

![](http://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/NeProgramist/Cytrus/master/doc/uml/UC_2.puml)

![](http://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/NeProgramist/Cytrus/master/doc/uml/UC_3.puml)

![](http://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/NeProgramist/Cytrus/master/doc/uml/UC_4.1.puml)

![](http://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/NeProgramist/Cytrus/master/doc/uml/UC_4.2.puml)

![](http://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/NeProgramist/Cytrus/master/doc/uml/UC_5.puml)

## 4. Короткий огляд продукту

"Cytrus" - це безкоштовний онлайн сервіс пошуку зв'язків в тексті на українській мові. Не залежить від реалізації, тобто просто по запиту буде віддавати дані користувачу в форматі JSON, без попередньої їх обробки. Сервіс працює на основі СУБД Neo4j та побудований на RESTful-архітектурі.

## 5. Функціональність
![](http://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/NeProgramist/Cytrus/master/doc/uml/functionality.puml)

Основні вимоги до функціональності, що пред'являються зацікавленими особами до предмету розробки, відносяться до наступних категорій:

* Взаємодія з графом сутностей та зв'язків.
* Надання функціональності користувача.
* Надання функціональності привілейованого користувача.
* Можливість придбати привілейований доступ до сервісу.
* Видача, зберігання та обробка ключів привілейованого доступу до сервісу.

### 5.1. Взаємодія з графом сутностей та зв'язків

Розроблювана система має забезпечувати можливість побудови графу сутностей та зв'язків між ними на основі проаналізованих текстів, наданих користувачами програми. Аналізуючи нові тексти, система повинна вміти доповнювати граф. Для збереження інформації, необхідна інтеграція в СУБД __Neo4j__ чи __MySQL__.

Система повинна вміти виконувати наступні операції на графі:

* Пошук вершини;
* Встановлення існування шляху між вершинами;
* Виокремлення підграфу з наданою максимальною довжиною шляхів.

Система повинна обробляти запити користувача через __CytrusAPI__ та повертати відповідь у вказаному форматах:
* JSON;
* XML;
* CSV.

У разі некоректного запиту, система повинна повертати повідомлення про помилку.

### 5.2. Функціональність звичайного користувача

Звичайний користувач може отримати обмежений доступ до сервісу за допомогою вебсайту чи __CytrusAPI__. Повний перелік можливостей користувача:

__Web-версія:__
1. Читання документації Cytrus.
2. Обрання формату відповіді з сервісу.
3. Обрання глибини вкладеності відповіді _(не більше 3)_.
4. Надання додаткового тексту для аналізу _(не більше 250 символів)_.
5. Відправка обмеженого запиту до сервісу, отримання відповіді. 
6. Придбання ключа привілейованого доступу _(стати привілейованим користувачем)_.

__CytrusAPI:__
1. Обрання формату відповіді з сервісу.
2. Обрання глибини вкладеності відповіді _(не більше 3)_.
3. Надання додаткового тексту для аналізу _(не більше 250 символів)_.
4. Відправка обмеженого запиту до сервісу, отримання відповіді. 

### 5.3. Функціонал привілейованого користувача

Привілейований доступ до сервісу можливий лише через __CytrusAPI__. Привілейовані користувачі мають наступні можливості:

1. Обрання формату відповіді з сервісу.
2. Обрання глибини вкладеності відповіді _(не більше 9)_.
3. Надання додаткового тексту для аналізу _(не більше 1000 символів)_.
4. Відправка обмеженого запиту до сервісу, отримання відповіді. 

### 5.4. Видача, зберігання та обробка ключів привілейованого доступу

Користувачі мають змогу придбати ключ привілейованого доступу через вебсайт. Ідентифікація користувача відбувається за допомогою технології _OAuth_. Система генерує унікальний ключ. Користувач може побачити його на вебсайті.

При виконанні запитів із ключем привілейованого доступу через CytrusAPI система авторизує користувача та надає йому відповідні можливості.

Система зберігає інформацію про привілейованих користувачів та ключі в базі даних.

## 6. Практичність

### 6.1. Локалізація

Cytrus матимеме підтримку української, російської так англійської мови.

### 6.2. Інтерфейс

Cytrus має 2 види інтерфейсу, в залежності від того, хто його використовує - людина або СПЗ.

### 6.3. Зв'язок текстів

Cytrus може приймати до обробки декілька текстів та утворювати зв'язки не тільки між елементами 1го тексту, але й між елементами декількох.

## 7. Надійність

### 7.1. Безпека данних

Усі зв'яки отримані з аналізу текстів будуть зберигатися не тільки на пристрої користувача а ще, й на додатковому сховищі, до якого корстувач не матиме доступу. Це потрібно для того, щоб у випадку втрати файли можна було відновити.  

## 8. Продуктивність

Система має бути стійкою до зброїв, мати можливість обробляти великі обсяги текстів без перебоїв та з прийнятною для користувача швидкістю. Для цього пропонується використовувати засоби асинхронізації та розпаралелювання обчислень для швидшої обробки запитів користувачів.

## 9. Експлуатаційна придатність

### 9.1. Легка розширюваність

Cytrus має мати можливість легко підключати до себе додаткові модулі, словники, бібліотеки. Для цього програма має бути модульною та базуватися на принципах ООП.

### 9.2. Розділена бізнеслогіка і відображення

Cytrus може бути представлена у вигляді веб-сайту, мобільного чи десктопного додатку. Для цього необхідно застосувати REST підхід для побудови архітектури.
